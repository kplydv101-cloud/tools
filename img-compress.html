<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Free online image compressor - Reduce image file size while maintaining quality. Support for JPG, PNG, and WebP formats.">
    <meta name="keywords" content="image compressor, image optimizer, reduce image size, compress photos">
    <title>ImageCompressor - Free Online Image Compression Tool</title>
    <style>
        :root {
            --primary-color: #4a6cf7;
            --primary-dark: #3a5ce5;
            --secondary-color: #6c757d;
            --light-color: #f8f9fa;
            --dark-color: #212529;
            --success-color: #28a745;
            --border-radius: 8px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f7ff;
            color: var(--dark-color);
            line-height: 1.6;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            background-color: white;
            box-shadow: var(--box-shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
            text-decoration: none;
        }

        .logo svg {
            width: 32px;
            height: 32px;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 25px;
        }

        nav a {
            text-decoration: none;
            color: var(--dark-color);
            font-weight: 500;
            transition: var(--transition);
        }

        nav a:hover {
            color: var(--primary-color);
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .hero {
            padding: 60px 0;
            text-align: center;
            background: linear-gradient(135deg, #f5f7ff 0%, #e6ebff 100%);
        }

        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: var(--dark-color);
        }

        .hero p {
            font-size: 1.1rem;
            color: var(--secondary-color);
            max-width: 700px;
            margin: 0 auto 30px;
        }

        .compression-tool {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 30px;
            margin-bottom: 40px;
        }

        .tool-container {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        .upload-area {
            border: 2px dashed #d1d5db;
            border-radius: var(--border-radius);
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .upload-area:hover {
            border-color: var(--primary-color);
        }

        .upload-area.active {
            border-color: var(--primary-color);
            background-color: rgba(74, 108, 247, 0.05);
        }

        .upload-icon {
            font-size: 3rem;
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .upload-text {
            margin-bottom: 15px;
        }

        .upload-text h3 {
            font-size: 1.3rem;
            margin-bottom: 5px;
        }

        .upload-text p {
            color: var(--secondary-color);
        }

        .browse-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: var(--border-radius);
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
        }

        .browse-btn:hover {
            background-color: var(--primary-dark);
        }

        #file-input {
            display: none;
        }

        .preview-container {
            display: none;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .preview-box {
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .preview-header {
            background-color: var(--light-color);
            padding: 10px 15px;
            font-weight: 500;
            display: flex;
            justify-content: space-between;
        }

        .preview-image {
            width: 100%;
            height: 250px;
            object-fit: contain;
            background-color: #f9f9f9;
        }

        .file-info {
            background-color: var(--light-color);
            padding: 10px 15px;
            font-size: 0.9rem;
            display: flex;
            justify-content: space-between;
        }

        .controls {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .control-group label {
            font-weight: 500;
        }

        .slider-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .slider {
            flex: 1;
            -webkit-appearance: none;
            height: 6px;
            border-radius: 3px;
            background: #d1d5db;
            outline: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--primary-color);
            cursor: pointer;
        }

        .slider-value {
            min-width: 40px;
            text-align: center;
            font-weight: 500;
        }

        .format-select {
            padding: 10px 15px;
            border: 1px solid #d1d5db;
            border-radius: var(--border-radius);
            background-color: white;
            font-size: 1rem;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
        }

        .btn {
            padding: 12px 25px;
            border-radius: var(--border-radius);
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            font-size: 1rem;
            flex: 1;
            text-align: center;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--primary-dark);
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--primary-color);
            color: var(--primary-color);
        }

        .btn-outline:hover {
            background-color: rgba(74, 108, 247, 0.1);
        }

        .btn-success {
            background-color: var(--success-color);
            color: white;
        }

        .btn-success:hover {
            background-color: #218838;
        }

        .ad-container {
            margin: 30px 0;
            text-align: center;
            background-color: #f8f9fa;
            border-radius: var(--border-radius);
            padding: 20px;
            min-height: 250px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .ad-label {
            font-size: 0.8rem;
            color: var(--secondary-color);
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .features {
            padding: 60px 0;
            background-color: white;
        }

        .section-title {
            text-align: center;
            margin-bottom: 40px;
        }

        .section-title h2 {
            font-size: 2rem;
            margin-bottom: 15px;
        }

        .section-title p {
            color: var(--secondary-color);
            max-width: 700px;
            margin: 0 auto;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .feature-card {
            background-color: var(--light-color);
            border-radius: var(--border-radius);
            padding: 30px;
            text-align: center;
            transition: var(--transition);
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--box-shadow);
        }

        .feature-icon {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 20px;
        }

        .feature-card h3 {
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .feature-card p {
            color: var(--secondary-color);
        }

        footer {
            background-color: var(--dark-color);
            color: white;
            padding: 50px 0 20px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-column h3 {
            font-size: 1.2rem;
            margin-bottom: 20px;
            position: relative;
            padding-bottom: 10px;
        }

        .footer-column h3::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 40px;
            height: 2px;
            background-color: var(--primary-color);
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 10px;
        }

        .footer-links a {
            color: #adb5bd;
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-links a:hover {
            color: white;
        }

        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #343a40;
            color: #adb5bd;
            font-size: 0.9rem;
        }

        /* Responsive Styles */
        @media (max-width: 992px) {
            .preview-container {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .header-content {
                padding: 15px 0;
            }

            nav {
                display: none;
                position: absolute;
                top: 70px;
                left: 0;
                width: 100%;
                background-color: white;
                box-shadow: var(--box-shadow);
                padding: 20px;
            }

            nav.active {
                display: block;
            }

            nav ul {
                flex-direction: column;
                gap: 15px;
            }

            .mobile-menu-btn {
                display: block;
            }

            .hero h1 {
                font-size: 2rem;
            }

            .compression-tool {
                padding: 20px;
            }

            .action-buttons {
                flex-direction: column;
            }
        }

        @media (max-width: 576px) {
            .hero {
                padding: 40px 0;
            }

            .hero h1 {
                font-size: 1.8rem;
            }

            .upload-area {
                padding: 30px 15px;
            }

            .features {
                padding: 40px 0;
            }

            .section-title h2 {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <a href="#" class="logo">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M4 16L8 12L11 15L15 9L20 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M3 20H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        <path d="M4 8V4H20V8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    ImageCompressor
                </a>
                <button class="mobile-menu-btn">☰</button>
                <nav>
                    <ul>
                        <li><a href="#">Home</a></li>
                        <li><a href="#">Features</a></li>
                        <li><a href="#">How It Works</a></li>
                        <li><a href="#">Pricing</a></li>
                        <li><a href="#">Blog</a></li>
                        <li><a href="#">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>Compress Images Without Losing Quality</h1>
            <p>Reduce image file size by up to 80% while maintaining visual quality. Fast, secure, and completely free!</p>
            
            <!-- Ad Space 1 -->
            <div class="ad-container">
                <div class="ad-label">Advertisement</div>
                <!-- Google AdSense Ad Unit -->
                <!-- Replace with your Ad Unit ID -->
                <div id="ad-unit-1">
                    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXXX" crossorigin="anonymous"></script>
                    <ins class="adsbygoogle"
                         style="display:block"
                         data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
                         data-ad-slot="XXXXXXXXXX"
                         data-ad-format="auto"
                         data-full-width-responsive="true"></ins>
                    <script>
                         (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>
            </div>
            
            <!-- Compression Tool -->
            <div class="compression-tool">
                <div class="tool-container">
                    <!-- Upload Area -->
                    <div class="upload-area" id="upload-area">
                        <div class="upload-icon">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M14 2V8H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M16 13H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M16 17H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M10 9H9H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <div class="upload-text">
                            <h3>Drag & Drop your image here</h3>
                            <p>or click to browse files (JPG, PNG, WebP supported)</p>
                        </div>
                        <button class="browse-btn">Browse Files</button>
                        <input type="file" id="file-input" accept="image/jpeg, image/png, image/webp">
                    </div>

                    <!-- Preview & Controls (Initially Hidden) -->
                    <div class="preview-container" id="preview-container">
                        <!-- Original Image Preview -->
                        <div class="preview-box">
                            <div class="preview-header">
                                <span>Original Image</span>
                            </div>
                            <img id="original-preview" class="preview-image" src="" alt="Original image preview">
                            <div class="file-info">
                                <span id="original-size">0 KB</span>
                                <span id="original-dimensions">0×0</span>
                            </div>
                        </div>

                        <!-- Compressed Image Preview -->
                        <div class="preview-box">
                            <div class="preview-header">
                                <span>Compressed Image</span>
                                <span id="compression-ratio">0% smaller</span>
                            </div>
                            <img id="compressed-preview" class="preview-image" src="" alt="Compressed image preview">
                            <div class="file-info">
                                <span id="compressed-size">0 KB</span>
                                <span id="compressed-dimensions">0×0</span>
                            </div>
                        </div>

                        <!-- Compression Controls -->
                        <div class="controls">
                            <div class="control-group">
                                <label for="compression-level">Compression Level</label>
                                <div class="slider-container">
                                    <input type="range" min="0" max="100" value="70" class="slider" id="compression-level">
                                    <span class="slider-value" id="compression-value">70%</span>
                                </div>
                            </div>

                            <div class="control-group">
                                <label for="output-format">Output Format</label>
                                <select class="format-select" id="output-format">
                                    <option value="original">Same as original</option>
                                    <option value="jpeg">JPEG</option>
                                    <option value="png">PNG</option>
                                    <option value="webp">WebP</option>
                                </select>
                            </div>

                            <div class="action-buttons">
                                <button class="btn btn-primary" id="compress-btn">Compress Image</button>
                                <button class="btn btn-outline" id="reset-btn">Reset</button>
                                <button class="btn btn-success" id="download-btn" disabled>Download Compressed</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Ad Space 2 -->
    <div class="container">
        <div class="ad-container">
            <div class="ad-label">Advertisement</div>
            <!-- Google AdSense Ad Unit -->
            <!-- Replace with your Ad Unit ID -->
            <div id="ad-unit-2">
                <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXXX" crossorigin="anonymous"></script>
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
                     data-ad-slot="XXXXXXXXXX"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
                <script>
                     (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
        </div>
    </div>

    <!-- Features Section -->
    <section class="features">
        <div class="container">
            <div class="section-title">
                <h2>Why Choose Our Image Compressor?</h2>
                <p>Our tool offers the best balance between file size reduction and image quality preservation</p>
            </div>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M13 2L3 14H12L11 22L21 10H12L13 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <h3>Lightning Fast</h3>
                    <p>Compress images in seconds with our optimized algorithms and cloud processing.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M19.4 15C19.2669 15.3031 19.1337 15.6062 19.0006 15.9094C18.5137 16.9031 18.0203 17.8922 17.5203 18.8766C16.7891 20.3109 16.0422 21.7359 15.2797 23.1516C15.0984 23.5016 14.9016 23.5016 14.7203 23.1516C13.4781 20.7375 12.2359 18.3234 10.9937 15.9094C10.4609 14.8422 9.92812 13.775 9.39531 12.7078C9.12812 12.1766 8.87188 11.8234 8.27969 11.8234C7.6875 11.8234 7.43125 12.1766 7.16406 12.7078C6.63125 13.775 6.09844 14.8422 5.56562 15.9094C5.43234 16.2113 5.29906 16.5131 5.16578 16.8148" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M19.4 15C19.4 9 15 5 12 5C9 5 4.6 9 4.6 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <h3>Quality Preservation</h3>
                    <p>Smart compression algorithms maintain visual quality while significantly reducing file size.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M4.93 4.93L9.17 9.17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14.83 14.83L19.07 19.07" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14.83 9.17L19.07 4.93" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14.83 9.17L18.36 5.64" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M4.93 19.07L9.17 14.83" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <h3>Multiple Formats</h3>
                    <p>Support for JPG, PNG, and WebP formats with option to convert between them.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>ImageCompressor</h3>
                    <p>Free online tool to compress your images without losing quality. Optimize your website performance by reducing image file sizes.</p>
                </div>
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="#">Home</a></li>
                        <li><a href="#">Features</a></li>
                        <li><a href="#">How It Works</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Terms of Service</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Support</h3>
                    <ul class="footer-links">
                        <li><a href="#">Help Center</a></li>
                        <li><a href="#">Contact Us</a></li>
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">API Documentation</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Connect With Us</h3>
                    <ul class="footer-links">
                        <li><a href="#">Twitter</a></li>
                        <li><a href="#">Facebook</a></li>
                        <li><a href="#">Instagram</a></li>
                        <li><a href="#">GitHub</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 ImageCompressor. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // DOM Elements
        const uploadArea = document.getElementById('upload-area');
        const fileInput = document.getElementById('file-input');
        const previewContainer = document.getElementById('preview-container');
        const originalPreview = document.getElementById('original-preview');
        const compressedPreview = document.getElementById('compressed-preview');
        const originalSize = document.getElementById('original-size');
        const compressedSize = document.getElementById('compressed-size');
        const originalDimensions = document.getElementById('original-dimensions');
        const compressedDimensions = document.getElementById('compressed-dimensions');
        const compressionRatio = document.getElementById('compression-ratio');
        const compressionLevel = document.getElementById('compression-level');
        const compressionValue = document.getElementById('compression-value');
        const outputFormat = document.getElementById('output-format');
        const compressBtn = document.getElementById('compress-btn');
        const resetBtn = document.getElementById('reset-btn');
        const downloadBtn = document.getElementById('download-btn');
        const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
        const nav = document.querySelector('nav');

        // Event Listeners
        mobileMenuBtn.addEventListener('click', () => {
            nav.classList.toggle('active');
        });

        uploadArea.addEventListener('click', () => {
            fileInput.click();
        });

        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('active');
        });

        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('active');
        });

        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('active');
            
            if (e.dataTransfer.files.length) {
                handleFileSelect(e.dataTransfer.files[0]);
            }
        });

        fileInput.addEventListener('change', (e) => {
            if (e.target.files.length) {
                handleFileSelect(e.target.files[0]);
            }
        });

        compressionLevel.addEventListener('input', () => {
            compressionValue.textContent = `${compressionLevel.value}%`;
        });

        compressBtn.addEventListener('click', compressImage);
        resetBtn.addEventListener('click', resetTool);
        downloadBtn.addEventListener('click', downloadImage);

        // Functions
        function handleFileSelect(file) {
            if (!file.type.match('image.*')) {
                alert('Please select an image file (JPG, PNG, or WebP)');
                return;
            }

            const reader = new FileReader();
            
            reader.onload = function(e) {
                originalPreview.src = e.target.result;
                compressedPreview.src = e.target.result;
                
                // Show preview container
                previewContainer.style.display = 'grid';
                
                // Update file info
                originalSize.textContent = formatFileSize(file.size);
                compressedSize.textContent = formatFileSize(file.size);
                
                // Get image dimensions
                const img = new Image();
                img.onload = function() {
                    originalDimensions.textContent = `${img.width}×${img.height}`;
                    compressedDimensions.textContent = `${img.width}×${img.height}`;
                };
                img.src = e.target.result;
                
                // Enable compress button
                compressBtn.disabled = false;
                downloadBtn.disabled = true;
            };
            
            reader.readAsDataURL(file);
        }

        function compressImage() {
            // In a real implementation, this would send the image to a server for compression
            // For this demo, we'll simulate compression with a timeout
            
            compressBtn.disabled = true;
            compressBtn.textContent = 'Compressing...';
            
            setTimeout(() => {
                // Simulate compression results
                const originalSizeValue = parseFloat(originalSize.textContent);
                const compressionFactor = (100 - parseInt(compressionLevel.value)) / 100;
                const newSize = originalSizeValue * compressionFactor;
                
                compressedSize.textContent = formatFileSize(newSize * 1024); // Convert back to bytes for formatting
                compressionRatio.textContent = `${Math.round((1 - compressionFactor) * 100)}% smaller`;
                
                // Enable download button
                downloadBtn.disabled = false;
                
                // Reset compress button
                compressBtn.disabled = false;
                compressBtn.textContent = 'Compress Image';
                
                // Show success message
                alert('Image compressed successfully!');
            }, 1500);
        }

        function resetTool() {
            fileInput.value = '';
            previewContainer.style.display = 'none';
            originalPreview.src = '';
            compressedPreview.src = '';
            originalSize.textContent = '0 KB';
            compressedSize.textContent = '0 KB';
            originalDimensions.textContent = '0×0';
            compressedDimensions.textContent = '0×0';
            compressionRatio.textContent = '0% smaller';
            compressionLevel.value = 70;
            compressionValue.textContent = '70%';
            outputFormat.value = 'original';
            compressBtn.disabled = false;
            downloadBtn.disabled = true;
        }

        function downloadImage() {
            // In a real implementation, this would download the compressed image
            // For this demo, we'll just show an alert
            alert('Downloading compressed image...');
        }

        function formatFileSize(bytes) {
            if (bytes < 1024) {
                return bytes + ' B';
            } else if (bytes < 1048576) {
                return (bytes / 1024).toFixed(2) + ' KB';
            } else {
                return (bytes / 1048576).toFixed(2) + ' MB';
            }
        }
    </script>
</body>
</html>
